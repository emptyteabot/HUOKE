# å¾®åšçˆ¬è™«å®Œæ•´ä½¿ç”¨æŒ‡å—

## ğŸ“¦ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `weibo_scraper.py` | æ ¸å¿ƒçˆ¬è™«ä»£ç (17KB,å®Œæ•´å¯è¿è¡Œ) |
| `requirements.txt` | Pythonä¾èµ–åŒ…åˆ—è¡¨ |
| `run_weibo_scraper.bat` | Windowsä¸€é”®å¯åŠ¨è„šæœ¬ |
| `example_usage.py` | ä½¿ç”¨ç¤ºä¾‹ä»£ç  |
| `README.md` | è¯¦ç»†ä½¿ç”¨è¯´æ˜ |
| `QUICKSTART_WEIBO.md` | 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹ |
| `WEIBO_TECHNICAL_DOC.md` | æŠ€æœ¯æ–‡æ¡£ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œçˆ¬è™«
```bash
# Windows
run_weibo_scraper.bat

# Mac/Linux
python weibo_scraper.py
```

### 3. æŒ‰æç¤ºæ“ä½œ
- è¾“å…¥å…³é”®è¯: `#äººå·¥æ™ºèƒ½#`
- è®¾ç½®æ•°é‡: å¾®åš5æ¡,è¯„è®º30æ¡
- æ‰‹åŠ¨ç™»å½•å¾®åš
- ç­‰å¾…çˆ¬å–å®Œæˆ

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

âœ… **åçˆ¬ç»•è¿‡**: undetected-chromedriverè‡ªåŠ¨ç»•è¿‡æ£€æµ‹
âœ… **æ‰‹åŠ¨ç™»å½•**: æ”¯æŒæ‰«ç /å¯†ç ç™»å½•,å®‰å…¨å¯é 
âœ… **è¯é¢˜æœç´¢**: è‡ªåŠ¨æœç´¢æŒ‡å®šè¯é¢˜
âœ… **è¯„è®ºæŠ“å–**: æ‰¹é‡çˆ¬å–å¾®åšè¯„è®º
âœ… **æ•°æ®æå–**: ç”¨æˆ·åã€è¯„è®ºã€ä¸»é¡µé“¾æ¥
âœ… **éšæœºå»¶è¿Ÿ**: 1-5ç§’éšæœºå»¶è¿Ÿé¿å…å°å·
âœ… **Excelå¯¼å‡º**: è‡ªåŠ¨å¯¼å‡ºä¸ºExcelæ ¼å¼
âœ… **é”™è¯¯å¤„ç†**: å®Œæ•´çš„å¼‚å¸¸æ•è·å’Œæ—¥å¿—

## ğŸ“Š è¾“å‡ºæ•°æ®æ ¼å¼

Excelæ–‡ä»¶åŒ…å«ä»¥ä¸‹å­—æ®µ:

| å­—æ®µ | ç¤ºä¾‹ |
|------|------|
| ç”¨æˆ·å | å¼ ä¸‰ |
| è¯„è®ºå†…å®¹ | è¿™ä¸ªè§‚ç‚¹å¾ˆæœ‰é“ç†! |
| ç”¨æˆ·ä¸»é¡µé“¾æ¥ | https://weibo.com/u/1234567890 |
| è¯„è®ºæ—¶é—´ | 2å°æ—¶å‰ |
| å¾®åšé“¾æ¥ | https://weibo.com/detail/xxx |

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. å¸‚åœºè°ƒç ”
çˆ¬å–è¡Œä¸šè¯é¢˜è¯„è®º,åˆ†æç”¨æˆ·éœ€æ±‚å’Œç—›ç‚¹

### 2. ç«å“åˆ†æ
ç›‘æ§ç«å“ç›¸å…³è¯é¢˜,äº†è§£ç”¨æˆ·åé¦ˆ

### 3. ç”¨æˆ·ç”»åƒ
åˆ†æè¯„è®ºç”¨æˆ·ç‰¹å¾,æ„å»ºç›®æ ‡ç”¨æˆ·ç”»åƒ

### 4. å†…å®¹è¥é”€
å‘ç°çƒ­é—¨è¯é¢˜å’Œè®¨è®ºç‚¹,ä¼˜åŒ–å†…å®¹ç­–ç•¥

### 5. çº¿ç´¢æŒ–æ˜
ä»è¯„è®ºä¸­å‘ç°æ½œåœ¨å®¢æˆ·,è·å–è”ç³»æ–¹å¼

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: åŸºç¡€ä½¿ç”¨
```python
from weibo_scraper import WeiboScraper

scraper = WeiboScraper()
scraper.run(
    keyword='#äººå·¥æ™ºèƒ½#',
    max_posts=5,
    max_comments_per_post=30
)
```

### ç¤ºä¾‹2: æ‰¹é‡çˆ¬å–å¤šä¸ªè¯é¢˜
```python
topics = ['#AI#', '#åˆ›ä¸š#', '#ç”µå•†#']
for topic in topics:
    scraper = WeiboScraper()
    scraper.run(
        keyword=topic,
        max_posts=3,
        max_comments_per_post=20,
        output_file=f'{topic}_comments.xlsx'
    )
```

### ç¤ºä¾‹3: è‡ªå®šä¹‰å·¥ä½œæµ
```python
scraper = WeiboScraper()
scraper.init_driver()
scraper.manual_login()
scraper.search_topic('#åˆ›ä¸š#')
weibo_links = scraper.get_weibo_links(max_posts=10)

# åªçˆ¬å–å‰5æ¡
for url in weibo_links[:5]:
    comments = scraper.scrape_comments(url, max_comments=50)
    scraper.comments_data.extend(comments)

scraper.save_to_excel('startup_comments.xlsx')
scraper.close()
```

## âš™ï¸ å‚æ•°é…ç½®

### WeiboScraper åˆå§‹åŒ–å‚æ•°
```python
WeiboScraper(headless=False)
```
- `headless`: æ˜¯å¦æ— å¤´æ¨¡å¼(é»˜è®¤False,æ˜¾ç¤ºæµè§ˆå™¨)

### run() æ–¹æ³•å‚æ•°
```python
scraper.run(
    keyword='#è¯é¢˜#',      # æœç´¢å…³é”®è¯(å¿…å¡«)
    max_posts=5,           # çˆ¬å–å¾®åšæ•°é‡
    max_comments_per_post=30,  # æ¯æ¡å¾®åšçš„è¯„è®ºæ•°
    output_file='data.xlsx'    # è¾“å‡ºæ–‡ä»¶å(å¯é€‰)
)
```

## ğŸ”§ é«˜çº§é…ç½®

### 1. ä¿®æ”¹å»¶è¿Ÿæ—¶é—´
```python
# åœ¨ weibo_scraper.py ä¸­ä¿®æ”¹
def random_delay(self, min_seconds=2, max_seconds=5):
    # å¢åŠ å»¶è¿Ÿæ—¶é—´,æ›´å®‰å…¨ä½†æ›´æ…¢
```

### 2. ä¿®æ”¹æµè§ˆå™¨é€‰é¡¹
```python
# åœ¨ init_driver() ä¸­æ·»åŠ 
options.add_argument('--window-size=1920,1080')
options.add_argument('--start-maximized')
```

### 3. å¯ç”¨æ— å¤´æ¨¡å¼
```python
scraper = WeiboScraper(headless=True)
```

## ğŸ“ æ—¥å¿—ç³»ç»Ÿ

### æ—¥å¿—æ–‡ä»¶
- æ–‡ä»¶å: `weibo_scraper.log`
- ç¼–ç : UTF-8
- æ ¼å¼: `æ—¶é—´ - çº§åˆ« - æ¶ˆæ¯`

### æ—¥å¿—çº§åˆ«
- INFO: æ­£å¸¸æµç¨‹ä¿¡æ¯
- WARNING: è­¦å‘Š(ä¸å½±å“è¿è¡Œ)
- ERROR: é”™è¯¯(å½±å“åŠŸèƒ½)

### æŸ¥çœ‹æ—¥å¿—
```bash
# Windows
type weibo_scraper.log

# Mac/Linux
cat weibo_scraper.log
```

## â“ å¸¸è§é—®é¢˜

### Q1: æç¤º"æµè§ˆå™¨åˆå§‹åŒ–å¤±è´¥"
**A**: ç¡®ä¿å·²å®‰è£…Chromeæµè§ˆå™¨,ç¨‹åºä¼šè‡ªåŠ¨ä¸‹è½½é©±åŠ¨

### Q2: ç™»å½•åæ²¡æœ‰ååº”
**A**: ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½,çœ‹åˆ°é¦–é¡µå‘å¸ƒæ¡†åä¼šè‡ªåŠ¨ç»§ç»­

### Q3: çˆ¬å–åˆ°çš„è¯„è®ºå¾ˆå°‘
**A**: 
- è¯¥å¾®åšè¯„è®ºæœ¬èº«å°±å°‘
- è¯„è®ºåŒºåŠ è½½æ…¢,å¯å¢åŠ å»¶è¿Ÿ
- å‡å°‘çˆ¬å–æ•°é‡

### Q4: æç¤º"æœªæ‰¾åˆ°å¾®åšé“¾æ¥"
**A**: 
- æ£€æŸ¥å…³é”®è¯æ˜¯å¦æ­£ç¡®
- è¯¥è¯é¢˜ä¸‹å¾®åšæ•°é‡è¾ƒå°‘
- é¡µé¢ç»“æ„å¯èƒ½å˜åŒ–,éœ€æ›´æ–°é€‰æ‹©å™¨

### Q5: å¯¼å‡ºExcelå¤±è´¥
**A**: ç¡®ä¿å·²å®‰è£…openpyxl: `pip install openpyxl`

### Q6: è¢«å¾®åšé™åˆ¶è®¿é—®
**A**: 
- é™ä½çˆ¬å–é€Ÿåº¦
- å¢åŠ å»¶è¿Ÿæ—¶é—´
- æ›´æ¢è´¦å·
- ç­‰å¾…ä¸€æ®µæ—¶é—´åå†è¯•

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

1. **ä½¿ç”¨å°å·**: ä¸è¦ç”¨ä¸»è´¦å·çˆ¬å–
2. **æ§åˆ¶é¢‘ç‡**: å•æ¬¡ä¸è¶…è¿‡100æ¡å¾®åš
3. **å¢åŠ å»¶è¿Ÿ**: å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º3-5ç§’
4. **åˆ†æ‰¹çˆ¬å–**: åˆ†å¤šæ¬¡çˆ¬å–,é¿å…ä¸€æ¬¡æ€§å¤§é‡
5. **å®šæœŸä¼‘æ¯**: çˆ¬å–ä¸€æ®µæ—¶é—´åæš‚åœ
6. **ç›‘æ§æ—¥å¿—**: åŠæ—¶å‘ç°å¼‚å¸¸

## ğŸ“š å­¦ä¹ èµ„æº

- **Seleniumæ–‡æ¡£**: https://selenium-python.readthedocs.io/
- **undetected-chromedriver**: https://github.com/ultrafunkamsterdam/undetected-chromedriver
- **pandasæ–‡æ¡£**: https://pandas.pydata.org/docs/

## âš–ï¸ æ³•å¾‹å£°æ˜

æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨,ä½¿ç”¨è€…éœ€:

âœ… éµå®ˆå¾®åšå¹³å°æœåŠ¡æ¡æ¬¾
âœ… éµå®ˆã€Šç½‘ç»œå®‰å…¨æ³•ã€‹
âœ… éµå®ˆã€Šæ•°æ®å®‰å…¨æ³•ã€‹
âœ… éµå®ˆã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹

âŒ ç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”
âŒ ç¦æ­¢å¤§è§„æ¨¡æ•°æ®é‡‡é›†
âŒ ç¦æ­¢ä¾µçŠ¯ç”¨æˆ·éšç§
âŒ ç¦æ­¢å…¶ä»–è¿æ³•è¡Œä¸º

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜?
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶: `weibo_scraper.log`
2. é˜…è¯»æŠ€æœ¯æ–‡æ¡£: `WEIBO_TECHNICAL_DOC.md`
3. å‚è€ƒç¤ºä¾‹ä»£ç : `example_usage.py`

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- å•æ¡å¾®åšè¯„è®ºçˆ¬å–: 30-60ç§’
- 5æ¡å¾®åš(æ¯æ¡30è¯„è®º): 5-10åˆ†é’Ÿ
- å†…å­˜å ç”¨: çº¦200-300MB
- CPUå ç”¨: ä¸­ç­‰

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. è¿è¡Œçˆ¬è™«
python weibo_scraper.py

# 3. è¾“å…¥å…³é”®è¯
#äººå·¥æ™ºèƒ½#

# 4. ç­‰å¾…å®Œæˆ
âœ… çˆ¬å–ä»»åŠ¡å®Œæˆ!
```

ç¥ä½ çˆ¬å–é¡ºåˆ©! ğŸš€
